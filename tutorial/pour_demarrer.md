#Pour démarer
Un outil d'administration en ligne de commande pour aider au déploiement de plugins Moodle via Git
## Présentation
Cet outil Moodle est un simple script en ligne de commande pour aider au déploiement de plugins Moodle via Git, mais sans utiliser de sous-modules.

Vous devez installer un seul fichier qui décrit la configuration souhaitée:
- la version Moodle
- la liste des plugins


Le mode de fonctionnement est déclaratif : le fichier de configuration d"écrit l'état souhaité, le script se chargeant de la mise à niveau de la base de code.



## Les pre requis

## Installation



## Pour démarrer

### Utilisation de Git

Utilisation de git pour gerer l'ensemble des sources. 

Trois concepts clés :

- Définitions déclarative de la base de code du projet : un fichier unique de configuration
- Contrôle de source entièrement vérifiable: depot git source unique de vérité pour Moodle et les plugins
- Gestion de la livraison de la base de code en « boucle de contrôle »

![Boucle de controle](../pictures/Boucle_de_controle.png)

Le fichier de configuration décrit l'état souhaité de la base de code, à charge pour le script d'amener la base de code à l'état demandé. 

Le changement d'éat peut avoir plusieurs origine:
- le dépot Moodle contient de nouveaux commits
- correction d'un plugin installé
- ajout:suppression d'un plugin dans le projet
- ...

Cela permet de gérer :
- la base de code son état initial
- son évolution

A tout moment il est possible de recrer un état de la base de code.


### Pour démarrer

depuis le répertoire d'installation
```
  cd ~/adele
  ./adele

```
l'outil permet plusieurs instances de code :
Sélectionner le projet demo

Le menu principal s'affiche

![Menu Adele](../pictures/Adele_Menu.png)

Le fichier de configuration définit 
- la version source de Moodle 
- la liste des plugins à installer


```
  # Configuration de demo
  # generated by cb Sat Dec 28 16:52:57 CET 2024
  moodle:
    version: 4.5+
  plugins:
    moodle-tool_redis:
      name: Redis management
      source: https://github.com/moodle-an-hochschulen/moodle-tool_redis
      branch: MOODLE_405_STABLE
    moodle-tool_opcache:
      name: Opcache management
      source: https://github.com/moodle-an-hochschulen/moodle-tool_opcache
      branch: MOODLE_405_STABLE

```

### Version de Moodle

L'option définie dans le tutorial est 4.5+
cela designe la derniere version mineure de Moodle disponible avec les dernieres mises à jour hebdomadaires
Il est possible de définir une version figée : 4.5.1 par exemple.
Les diffrentes options du fichier de configuration sont détaillées [ici](../reference/conf.md)

Pour La gestion des versions de Moodle  [voir](../concepts/version_moodle.md)  


